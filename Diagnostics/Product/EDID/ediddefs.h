/*
  File  : ediddefs.h
  Title : EDID definitions
  Author  : Joe Dzado
  Created : 05/08/2015
  Language: C
  Copyright:  (C) 2015 Bose Corporation, Framingham, MA

  Description:
       A place for all the generic defines for dealing with EDIDs.
       Defines are distilled from CEA-861-F and HDMI 2.0a specs.
===============================================================================
*/
#ifndef EDID_DEFS_H
#define EDID_DEFS_H

#define EDID_BLOCK_SIZE 128
// Must have Block 0 and at least 1 CEA extension
#define MIN_EDID_BLOCKS 2
// While two blocks is common, up to 254 are possible.
#define MAX_NUM_EXTENSION_BLOCKS 254

// The header takes up 8 bytes.
#define START_OF_EDID_DATA_OFFSET 8
#define END_OF_RESERVED_DATA_BLOCK 2

#define CEA_TAG_AUDIO_DATA_BLOCK 0x01
#define CEA_TAG_VIDEO_DATA_BLOCK 0x02
#define CEA_TAG_VENDOR_SPECIFIC_DATA_BLOCK 0x03
#define CEA_TAG_SPEAKER_ALLOCATION_DATA_BLOCK 0x04
#define CEA_TAG_VESA_DTC_DATA_BLOCK 0x05
#define CEA_TAG_EXTENDED_TAG_BLOCK 0x07
#define CEA_TAG_HEADER_SIZE 1
#define CEA_SHORT_AUDIO_DESCRIPTOR_SIZE 3
#define CEA_SPEAKER_ALLOCATION_SIZE 4


#define CEA_TAG_VENDOR_SPECIFIC_HDMI_1_4B  0x00000C03
#define CEA_TAG_VENDOR_SPECIFIC_HDMI_FORUM 0x00C45DD8
#define RR_ENABLED_OFFSET 6
#define RR_ENABLED_CLEAR_MASK 0x40

#define EDID_HEADER_BLOCK 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x00
#define EDID_HEADER_LEN 8

#define EDID_BASE_BLOCK 0x00
#define EDID_BASE_BLOCK_VENDOR_OFFSET 0x08
#define EDID_BASE_BLOCK_VENDOR_SIZE 10
#define EDID_BASE_BLOCK_DTD_COUNT 4
#define EDID_BASE_BLOCK_DTD_SIZE 18
#define EDID_BASE_BLOCK_DTD_OFFSET \
    {                              \
        0x36, 0x48, 0x5A, 0x6C     \
    }
#define EDID_BASE_BLOCK_DTD_HEADER_SIZE 4

#define EDID_CEA861_BLOCK 0x02
#define EDID_CEA861_BLOCK_DEFAULT_OFFSET 128
#define EDID_CEA861_BLOCK_HDMI14B_CEC_OFFSET 0x04
#define EDID_CEA861_BLOCK_DTD_OFFSET_BYTE_OFFSET 0x02
#define EDID_CEA861_BLOCK_DTD_NATIVE_COUNT_OFFSET 0x03
#define EDID_CEA861_BLOCK_DATA_BLOCK_OFFSET 0x04
#define EDID_CEA861_BLOCK_HEADER_SIZE 4

//////// CEA 861 VICS
#define NUM_CEA_VICS 107
#define CEA861_VIC_1_640x480p_59_94Hz_60Hz_4x3 1
#define CEA861_VIC_2_720x480p_59_94Hz_60Hz_4x3 2
#define CEA861_VIC_3_720x480p_59_94Hz_60Hz_16x9 3
#define CEA861_VIC_4_1280x720p_59_94Hz_60Hz_16x9 4
#define CEA861_VIC_5_1920x1080i_59_94Hz_60Hz_16x9 5
#define CEA861_VIC_6_720_1440_x480i_59_94Hz_60Hz_4x3 6
#define CEA861_VIC_7_720_1440_x480i_59_94Hz_60Hz_16x9 7
#define CEA861_VIC_8_720_1440_x240p_59_94Hz_60Hz_4x3 8
#define CEA861_VIC_9_720_1440_x240p_59_94Hz_60Hz_16x9 9
#define CEA861_VIC_10_2880x480i_59_94Hz_60Hz_4x3 10
#define CEA861_VIC_11_2880x480i_59_94Hz_60Hz_16x9 11
#define CEA861_VIC_12_2880x240p_59_94Hz_60Hz_4x3 12
#define CEA861_VIC_13_2880x240p_59_94Hz_60Hz_16x9 13
#define CEA861_VIC_14_1440x480p_59_94Hz_60Hz_4x3 14
#define CEA861_VIC_15_1440x480p_59_94Hz_60Hz_16x9 15
#define CEA861_VIC_16_1920x1080p_59_94Hz_60Hz_16x9 16
#define CEA861_VIC_17_720x576p_50Hz_4x3 17
#define CEA861_VIC_18_720x576p_50Hz_16x9 18
#define CEA861_VIC_19_1280x720p_50Hz_16x9 19
#define CEA861_VIC_20_1920x1080i_50Hz_16x9 20
#define CEA861_VIC_21_720_1440_x576i_50Hz_4x3 21
#define CEA861_VIC_22_720_1440_x576i_50Hz_16x9 22
#define CEA861_VIC_23_720_1440_x288p_50Hz_4x3 23
#define CEA861_VIC_24_720_1440_x288p_50Hz_16x9 24
#define CEA861_VIC_25_2880x576i_50Hz_4x3 25
#define CEA861_VIC_26_2880x576i_50Hz_16x9 26
#define CEA861_VIC_27_2880x288p_50Hz_4x3 27
#define CEA861_VIC_28_2880x288p_50Hz_16x9 28
#define CEA861_VIC_29_1440x576p_50Hz_4x3 29
#define CEA861_VIC_30_1440x576p_50Hz_16x9 30
#define CEA861_VIC_31_1920x1080p_50Hz_16x9 31
#define CEA861_VIC_32_1920x1080p_23_98Hz_24Hz_16x9 32
#define CEA861_VIC_33_1920x1080p_25Hz_16x9 33
#define CEA861_VIC_34_1920x1080p_29_97Hz_30Hz_16x9 34
#define CEA861_VIC_35_2880x480p_59_94Hz_60Hz_4x3 35
#define CEA861_VIC_36_2880x480p_59_94Hz_60Hz_16x9 36
#define CEA861_VIC_37_2880x576p_50Hz_4x3 37
#define CEA861_VIC_38_2880x576p_50Hz_16x9 38
#define CEA861_VIC_39_1920x1080i__1250_50Hz_16x9 39
#define CEA861_VIC_40_1920x1080i_100Hz_16x9 40
#define CEA861_VIC_41_1280x720p_100Hz_16x9 41
#define CEA861_VIC_42_720x576p_100Hz_4x3 42
#define CEA861_VIC_43_720x576p_100Hz_16x9 43
#define CEA861_VIC_44_720_1440_x576i_100Hz_4x3 44
#define CEA861_VIC_45_720_1440_x576i_100Hz_16x9 45
#define CEA861_VIC_46_1920x1080i_119_88_120Hz_16x9 46
#define CEA861_VIC_47_1280x720p_119_88_120Hz_16x9 47
#define CEA861_VIC_48_720x480p_119_88_120Hz_4x3 48
#define CEA861_VIC_49_720x480p_119_88_120Hz_16x9 49
#define CEA861_VIC_50_720_1440_x480i_119_88_120Hz_4x3 50
#define CEA861_VIC_51_720_1440_x480i_119_88_120Hz_16x9 51
#define CEA861_VIC_52_720x576p_200Hz_4x3 52
#define CEA861_VIC_53_720x576p_200Hz_16x9 53
#define CEA861_VIC_54_720_1440_x576i_200Hz_4x3 54
#define CEA861_VIC_55_720_1440_x576i_200Hz_16x9 55
#define CEA861_VIC_56_720x480p_239_76_240Hz_4x3 56
#define CEA861_VIC_57_720x480p_239_76_240Hz_16x9 57
#define CEA861_VIC_58_720_1440_x480i_239_76_240Hz_4x3 58
#define CEA861_VIC_59_720_1440_x480i_239_76_240Hz_16x9 59
#define CEA861_VIC_60_1280x720p_23_98Hz_24Hz_16x9 60
#define CEA861_VIC_61_1280x720p_25Hz_16x9 61
#define CEA861_VIC_62_1280x720p_29_97Hz_30Hz_16x9 62
#define CEA861_VIC_63_1920x1080p_119_88_120Hz_16x9 63
#define CEA861_VIC_64_1920x1080p_100Hz_16x9 64
#define CEA861_VIC_65_1280x720p_23_98Hz_24Hz_64x27 65
#define CEA861_VIC_66_1280x720p_25Hz_64x27 66
#define CEA861_VIC_67_1280x720p_29_97Hz_30Hz_64x27 67
#define CEA861_VIC_68_1280x720p_50Hz_64x27 68
#define CEA861_VIC_69_1280x720p_59_94Hz_60Hz_64x27 69
#define CEA861_VIC_70_1280x720p_100Hz_64x27 70
#define CEA861_VIC_71_1280x720p_119_88_120Hz_64x27 71
#define CEA861_VIC_72_1920x1080p_23_98Hz_24Hz_64x27 72
#define CEA861_VIC_73_1920x1080p_25Hz_64x27 73
#define CEA861_VIC_74_1920x1080p_29_97Hz_30Hz_64x27 74
#define CEA861_VIC_75_1920x1080p_50Hz_64x27 75
#define CEA861_VIC_76_1920x1080p_59_94Hz_60Hz_64x27 76
#define CEA861_VIC_77_1920x1080p_100Hz_64x27 77
#define CEA861_VIC_78_1920x1080p_119_88_120Hz_64x27 78
#define CEA861_VIC_79_1680x720p_23_98Hz_24Hz_64x27 79
#define CEA861_VIC_80_1680x720p_25Hz_64x27 80
#define CEA861_VIC_81_1680x720p_29_97Hz_30Hz_64x27 81
#define CEA861_VIC_82_1680x720p_50Hz_64x27 82
#define CEA861_VIC_83_1680x720p_59_94Hz_60Hz_64x27 83
#define CEA861_VIC_84_1680x720p_100Hz_64x27 84
#define CEA861_VIC_85_1680x720p_119_88_120Hz_64x27 85
#define CEA861_VIC_86_2560x1080p_23_98Hz_24Hz_64x27 86
#define CEA861_VIC_87_2560x1080p_25Hz_64x27 87
#define CEA861_VIC_88_2560x1080p_29_97Hz_30Hz_64x27 88
#define CEA861_VIC_89_2560x1080p_50Hz_64x27 89
#define CEA861_VIC_90_2560x1080p_59_94Hz_60Hz_64x27 90
#define CEA861_VIC_91_2560x1080p_100Hz_64x27 91
#define CEA861_VIC_92_2560x1080p_119_88_120Hz_64x27 92
#define CEA861_VIC_93_3840x2160p_23_98Hz_24Hz_16x9 93
#define CEA861_VIC_94_3840x2160p_25Hz_16x9 94
#define CEA861_VIC_95_3840x2160p_29_97Hz_30Hz_16x9 95
#define CEA861_VIC_96_3840x2160p_50Hz_16x9 96
#define CEA861_VIC_97_3840x2160p_59_94Hz_60Hz_16x9 97
#define CEA861_VIC_98_4096x2160p_23_98Hz_24Hz_256x135 98
#define CEA861_VIC_99_4096x2160p_25Hz_256x135 99
#define CEA861_VIC_100_4096x2160p_29_97Hz_30Hz_256x135 100
#define CEA861_VIC_101_4096x2160p_50Hz_256x135 101
#define CEA861_VIC_102_4096x2160p_59_94Hz_60Hz_256x135 102
#define CEA861_VIC_103_3840x2160p_23_98Hz_24Hz_64x27 103
#define CEA861_VIC_104_3840x2160p_25Hz_64x27 104
#define CEA861_VIC_105_3840x2160p_29_97Hz_30Hz_64x27 105
#define CEA861_VIC_106_3840x2160p_50Hz_64x27 106
#define CEA861_VIC_107_3840x2160p_59_94Hz_60Hz_64x27 107

/// HDMI VICS
#define NUM_HDMI_VICS 4
#define HDMI_VIC_1_3840x2160p_29_97Hz_30Hz_16x9 1
#define HDMI_VIC_2_3840x2160p_25Hz_16x9 2
#define HDMI_VIC_3_3840x2160p_23_98Hz_24Hz_16x9 3
#define HDMI_VIC_4_4096x2160p_23_98Hz_24Hz_256x135 4

// Audio Data Block Codec Rates in kHz
#define RATE_32_KHZ          0x1
#define RATE_44_1_KHZ        0x2
#define RATE_48_KHZ          0x4
#define RATE_88_2_KHZ        0x8
#define RATE_96_KHZ          0x10
#define RATE_176_4_KHZ       0x20
#define RATE_192_KHZ         0x40
#define RATE_ALL_RATES  (RATE_32_KHZ | RATE_44_1_KHZ | RATE_48_KHZ | RATE_88_2_KHZ | RATE_96_KHZ | RATE_176_4_KHZ | RATE_192_KHZ)

// Audio Data Block Codec types
// See table 27 of CEA-861-F/G
typedef enum
{
    AUDIO_ID_LPCM         = 0x1,
    AUDIO_ID_AC3          = 0x2,
    AUDIO_ID_MPEG_1       = 0x3,
    AUDIO_ID_MP3          = 0x4,
    AUDIO_ID_MPEG_2       = 0x5,
    AUDIO_ID_AAC_LC       = 0x6,
    AUDIO_ID_DTS          = 0x7,
    AUDIO_ID_ATRAC        = 0x8,
    AUDIO_ID_ONE_BIT      = 0x9,
    AUDIO_ID_E_AC3        = 0xA,
    AUDIO_ID_DTS_HD       = 0xB,
    AUDIO_ID_MAT          = 0xC,
    AUDIO_ID_DST          = 0xD,
    AUDIO_ID_WMA_Pro      = 0xE,
    AUDIO_ID_REFER_TO_CXT = 0xF,
    AUDIO_ID_MAX          = AUDIO_ID_REFER_TO_CXT,
} ShortAudioDescriptorID_t;

// Audio Data Block Channel Configurations
typedef enum
{
    CHANNELS_START                  = 0x0,
    CHANNELS_REFER_TO_STREAM_HEADER = CHANNELS_START,
    CHANNELS_2                      = 0x1,
    CHANNELS_3                      = 0x2,
    CHANNELS_4                      = 0x3,
    CHANNELS_5                      = 0x4,
    CHANNELS_6                      = 0x5,
    CHANNELS_7                      = 0x6,
    CHANNELS_8                      = 0x7,
    CHANNELS_MAX                    = CHANNELS_8,
} NumberOfChannels_t;

// Audio Data Block bit depths
#define BITS_16               0x1
#define BITS_20               0x2
#define BITS_24               0x4
#define BITS_ALL_BIT_DEPTH    BITS_16 | BITS_20 | BITS_24

#endif  // EDID_DEFS_H